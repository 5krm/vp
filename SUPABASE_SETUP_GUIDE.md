# دليل إعداد Supabase للتطبيق

هذا الدليل يوضح كيفية الحصول على البيانات المطلوبة من Supabase لاستخدامها في نظام إدارة VPN.

## الخطوة 1: إنشاء حساب Supabase

1. اذهب إلى [supabase.com](https://supabase.com)
2. انقر على "Start your project" أو "Sign Up"
3. قم بإنشاء حساب جديد باستخدام GitHub أو Google أو البريد الإلكتروني

## الخطوة 2: إنشاء مشروع جديد

1. بعد تسجيل الدخول، انقر على "New Project"
2. اختر المنظمة (Organization) أو أنشئ واحدة جديدة
3. املأ تفاصيل المشروع:
   - **اسم المشروع**: اختر اسماً مناسباً (مثل: vpn-management)
   - **كلمة مرور قاعدة البيانات**: اختر كلمة مرور قوية واحتفظ بها
   - **المنطقة**: اختر المنطقة الأقرب لك
4. انقر على "Create new project"

⚠️ **مهم**: احتفظ بكلمة مرور قاعدة البيانات في مكان آمن!

## الخطوة 3: الحصول على البيانات المطلوبة

بعد إنشاء المشروع، ستحتاج إلى الحصول على البيانات التالية:

### 1. Supabase URL

- اذهب إلى لوحة تحكم المشروع
- في الشريط الجانبي، انقر على **Settings** ⚙️
- انقر على **API**
- ستجد **Project URL** في قسم "Configuration"
- انسخ الرابط (يبدأ بـ `https://` وينتهي بـ `.supabase.co`)

**مثال**: `https://chsxfikwipxcmvyejmuw.supabase.co`

### 2. Supabase Anon Key (المفتاح العام)

- في نفس صفحة **Settings > API**
- ستجد **anon public** في قسم "Project API keys"
- انسخ هذا المفتاح (طويل ويبدأ بـ `eyJ`)

**مثال**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiY2RlZmdoaWprbG1ub3AiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTY0MDk5NTIwMCwiZXhwIjoxOTU2NTcxMjAwfQ.example`

### 3. Supabase Service Role Key (المفتاح الخاص)

- في نفس صفحة **Settings > API**
- ستجد **service_role secret** في قسم "Project API keys"
- انقر على "Reveal" لإظهار المفتاح
- انسخ هذا المفتاح (طويل ويبدأ بـ `eyJ`)

⚠️ **تحذير**: هذا المفتاح سري جداً ولا يجب مشاركته مع أحد!

### 4. كلمة مرور قاعدة البيانات

- هذه هي كلمة المرور التي أدخلتها عند إنشاء المشروع
- إذا نسيتها، يمكنك إعادة تعيينها من **Settings > Database**

## الخطوة 4: استخدام البيانات في التطبيق

عند تثبيت التطبيق:

1. اختر "Supabase (PostgreSQL في السحابة)" من قائمة نوع قاعدة البيانات
2. أدخل البيانات كما يلي:
   - **Supabase URL**: الرابط الذي حصلت عليه
   - **Supabase Anon Key**: المفتاح العام
   - **Supabase Service Role Key**: المفتاح الخاص
   - **كلمة مرور قاعدة البيانات**: كلمة المرور التي حددتها
   - **اسم قاعدة البيانات**: اتركه كما هو (postgres)

## نصائح مهمة

### الأمان
- لا تشارك Service Role Key مع أحد
- لا تضع المفاتيح في الكود المصدري العام
- استخدم متغيرات البيئة دائماً

### الأداء
- اختر المنطقة الأقرب لمستخدميك
- راقب استخدام قاعدة البيانات من لوحة التحكم

### النسخ الاحتياطي
- Supabase يقوم بعمل نسخ احتياطية تلقائية
- يمكنك تنزيل نسخة احتياطية من **Settings > Database**

## استكشاف الأخطاء

### خطأ في الاتصال
- تأكد من صحة الـ URL والمفاتيح
- تأكد من أن المشروع نشط في Supabase
- تحقق من كلمة مرور قاعدة البيانات

### خطأ في الصلاحيات
- تأكد من استخدام Service Role Key الصحيح
- تحقق من إعدادات RLS في Supabase

## روابط مفيدة

- [وثائق Supabase](https://supabase.com/docs)
- [دليل PostgreSQL](https://supabase.com/docs/guides/database)
- [إعدادات الأمان](https://supabase.com/docs/guides/auth)

---

**ملاحظة**: هذا الدليل محدث حسب واجهة Supabase الحالية. قد تختلف بعض التفاصيل مع التحديثات المستقبلية.